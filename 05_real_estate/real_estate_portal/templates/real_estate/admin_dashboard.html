{% extends "real_estate/base.html" %}
{% block title %}Admin dashboard{% endblock %}
{% block content %}
<h1>Admin - real_estate</h1>
<form class="row g-2 mb-3" method="get">
  <div class="col-auto"><input class="form-control" name="q" placeholder="Search" value="{{ q }}"></div>
  <div class="col-auto"><button class="btn btn-primary" type="submit">Search</button></div>
</form>

<h3>Recent objects</h3>
<table class="table table-sm table-bordered">
  <thead><tr><th>ID</th><th>Object</th></tr></thead>
  <tbody>
    {% for o in objects_page.object_list %}
      <tr><td>{{ o.id }}</td><td>{{ o }}</td></tr>
    {% empty %}
      <tr><td colspan="2">No objects</td></tr>
    {% endfor %}
  </tbody>
</table>

<nav>
  <ul class="pagination">
    {% if objects_page.has_previous %}
      <li class="page-item"><a class="page-link" href="?objects_page={{ objects_page.previous_page_number }}">Prev</a></li>
    {% endif %}
    <li class="page-item disabled"><span class="page-link">Page {{ objects_page.number }} / {{ objects_page.paginator.num_pages }}</span></li>
    {% if objects_page.has_next %}
      <li class="page-item"><a class="page-link" href="?objects_page={{ objects_page.next_page_number }}">Next</a></li>
    {% endif %}
  </ul>
</nav>

<h3 class="mt-4">Recent files</h3>
<table class="table table-sm table-bordered">
  <thead><tr><th>ID</th><th>Filename</th><th>Object</th></tr></thead>
  <tbody>
    {% for f in files_page.object_list %}
      <tr><td>{{ f.id }}</td><td>{{ f.filename }}</td><td>{{ f }}</td></tr>
    {% empty %}
      <tr><td colspan="3">No files</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
